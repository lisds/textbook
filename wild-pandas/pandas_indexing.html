
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Indexing in Pandas &#8212; Introduction to Data Science</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://lisds.github.io/textbook/wild-pandas/pandas_indexing.html" />
    <link rel="shortcut icon" href="../_static/dsfe_favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Noble politics and comparing counts" href="noble_politics.html" />
    <link rel="prev" title="Apply functions" href="../functions-conditionals/apply_functions.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/dsfe_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Introduction to Data Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Coding for data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro/what-is-data-science.html">
   What is data science?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../intro/why-data-science.html">
   Why Data Science?
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../intro/tools_techniques.html">
   Tools and techniques
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/computational-tools.html">
     Computational Tools
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/statistical-techniques.html">
     Statistical Techniques
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../intro/text-is-data.html">
   Text is data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/Plotting_the_Classics.html">
     Plotting the classics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/Literary_Characters.html">
     Literary characters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../intro/Another_Kind_Of_Character.html">
     Another kind of character
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../intro/surviving_computers.html">
   Surviving the computer
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../intro/the_software.html">
   Our tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../intro/using_jupyter.html">
   Using Jupyter notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../intro/more_on_jupyter.html">
   More on the Jupyter notebook
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  On code
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../code-basics/to_code.html">
   Ode to code
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../code-basics/sampling_problem.html">
   A sampling problem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../code-basics/three_girls.html">
   A simpler problem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../code-basics/variables_intro.html">
   Introduction to variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../code-basics/variables.html">
   Variables in code and mathematics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../code-basics/Names.html">
   Names and variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../code-basics/Expressions.html">
   Expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../code-basics/functions.html">
   Introduction to functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../code-basics/Calls.html">
   Call expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../code-basics/first_pass_three_girls.html">
   A first pass at the simple problem
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Data types
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../data-types/data_types.html">
   Types of things
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-types/Numbers.html">
   Numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-types/Strings.html">
   Strings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-types/strings_and_variables.html">
   Strings, variables and expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-types/String_Methods.html">
   String methods
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-types/Comparison.html">
   Comparisons
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-types/lists.html">
   Lists
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Arrays
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../arrays/Arrays.html">
   Arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../arrays/Ranges.html">
   Ranges
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../arrays/More_on_Arrays.html">
   More on Arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../arrays/array_indexing.html">
   Selecting values from an array
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../arrays/filling_arrays.html">
   Making and filling arrays.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../arrays/function_arguments.html">
   Function arguments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../arrays/rng_choice.html">
   Random choice
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../arrays/boolean_arrays.html">
   Boolean arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../arrays/leaping_ahead.html">
   Leaping ahead
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Iteration
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../iteration/iteration.html">
   Iteration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../iteration/indentation.html">
   Indentation, indentation, indentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../iteration/reply_supreme.html">
   Reply to the Supreme Court
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../iteration/inference.html">
   Inference
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Population and permutation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../permutation/population_permutation.html">
   Population and permutation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../permutation/permutation_idea.html">
   The idea of permutation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../permutation/permutation_and_t_test.html">
   Permutation and the t-test
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Data frames
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../data-frames/data_frames.html">
   Data frames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-frames/boolean_indexing.html">
   Indexing with Boolean arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-frames/data_frame_intro.html">
   Introduction to data frames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-frames/df_index.html">
   The DataFrame and the index
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-frames/df_basic_col_indexing.html">
   Selecting columns from DataFrames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-frames/df_sort_head_tail.html">
   Sorting, heads and tails
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-frames/series_like_arrays.html">
   Series are like arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-frames/df_basic_row_indexing.html">
   Selecting rows from DataFrames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-frames/missing_values.html">
   Missing values
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data-frames/df_plotting.html">
   Pandas plotting methods
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  More building blocks
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../functions-conditionals/more_building_blocks.html">
   More building blocks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../functions-conditionals/introducing_functions.html">
   Introducing Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../functions-conditionals/none.html">
   On None
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../functions-conditionals/functions.html">
   Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../functions-conditionals/conditional_statements.html">
   Conditional Statements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../functions-conditionals/functions_as_values.html">
   Functions as values
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../functions-conditionals/apply_functions.html">
   Apply functions
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Pandas, indices and labels
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Indexing in Pandas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="noble_politics.html">
   Noble politics and comparing counts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="safe_pandas.html">
   Handling Pandas safely
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="text_encoding.html">
   Storing and loading text
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="numbers_and_strings.html">
   Numbers and strings
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  The mean and straight lines
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/mean.html">
   The mean
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/mean_meaning.html">
   The meaning of the mean
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/mean_and_slopes.html">
   The mean and slopes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/sse_rmse.html">
   Sum of squares, root mean square
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/optimization.html">
   Optimization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/finding_lines.html">
   Finding lines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/using_minimize.html">
   Using minimize
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/inference_on_slopes.html">
   Inference on slopes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/combining_boolean_arrays.html">
   Combining boolean arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/standard_scores.html">
   Standard scores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mean-slopes/Correlation.html">
   Correlation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Classification
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../classification/classification.html">
   Classification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../classification/Nearest_Neighbors.html">
   Nearest neighbors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../classification/Training_and_Testing.html">
   Training and testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../classification/Rows_of_Tables.html">
   Rows of tables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../classification/Implementing_the_Classifier.html">
   Implementing the classifier
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../classification/Accuracy_of_the_Classifier.html">
   Accuracy of the classifier
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../classification/Multiple_Regression.html">
   Multiple regression
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../classification/single_multiple.html">
   Simple and multiple regression
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Useful pandas
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../useful-pandas/crosstab.html">
   Cross-tabulation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../useful-pandas/groupby.html">
   The power of groupby
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../useful-pandas/merge.html">
   Merging
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  More on regression
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../more-regression/logistic_regression.html">
   Logistic regression
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Confidence
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/confidence.html">
   On confidence
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/bootstrap.html">
   The Bootstrap
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/havana_math.html">
   A problem for the education minister
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/Central_Limit_Theorem.html">
   The Central Limit Theorem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/more_random_choice.html">
   More on random choices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/large_numbers.html">
   The law of large numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/laws_of_probability.html">
   Laws of probability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/first_bayes.html">
   First Bayes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/bayes_theorem.html">
   Bayes theorem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/bayes_bars.html">
   Bayes and bars
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/confident_treatment.html">
   Confident treatment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../confidence/bayes_confidence.html">
   Bayes, confidence
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  The end of the beginning
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../end/end_of_beginning.html">
   The end of the beginning
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Extra pages
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../extra/extra.html">
   Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extra/more_on_lists.html">
   More on lists
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extra/introducing_python.html">
   Introduction to Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extra/brisk_python.html">
   Brisk introduction to Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extra/pathlib.html">
   Using the
   <code class="docutils literal notranslate">
    <span class="pre">
     pathlib
    </span>
   </code>
   module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extra/monty_hall_lists.html">
   The Monty Hall problem, with lists
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extra/data8_functions.html">
   Data 8 explanation of functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extra/mean_deviations.html">
   Why the differences from the mean must add to zero.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extra/mean_sq_deviations.html">
   The mean and squared differences
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../extra/slope_deviations.html">
   Mathematics for the least-squares slope
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/lisds/textbook/main?urlpath=lab/tree/wild-pandas/pandas_indexing.Rmd"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://ds.lis.2i2c.cloud/hub/user-redirect/git-pull?repo=https%3A//github.com/lisds/textbook&urlpath=lab/tree/textbook/wild-pandas/pandas_indexing.Rmd&branch=main"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on JupyterHub"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_jupyterhub.svg">
  </span>
<span class="headerbtn__text-container">JupyterHub</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/lisds/textbook"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/lisds/textbook/issues/new?title=Issue%20on%20page%20%2Fwild-pandas/pandas_indexing.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/lisds/textbook/edit/main/wild-pandas/pandas_indexing.Rmd"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/wild-pandas/pandas_indexing.Rmd"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.Rmd</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#simple-indexing-and-the-golden-rule">
   Simple indexing and the golden rule
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#indirect-indexing">
   Indirect indexing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#indexing-and-slices">
   indexing and slices
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loc-and-iloc-indexing-work-on-columns-too">
   Loc and iloc indexing work on columns too
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#series-have-an-index-too">
   Series have an index too
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rows-from-data-frames-are-series">
   Rows from data frames are Series
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#you-can-index-without-loc-and-iloc-but-please-don-t-except">
   You can index without loc and iloc, but please don’t, except …
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#you-can-use-boolean-indexing-with-loc">
   You can use Boolean indexing with
   <code class="docutils literal notranslate">
    <span class="pre">
     .loc
    </span>
   </code>
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Indexing in Pandas</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#simple-indexing-and-the-golden-rule">
   Simple indexing and the golden rule
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#indirect-indexing">
   Indirect indexing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#indexing-and-slices">
   indexing and slices
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loc-and-iloc-indexing-work-on-columns-too">
   Loc and iloc indexing work on columns too
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#series-have-an-index-too">
   Series have an index too
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rows-from-data-frames-are-series">
   Rows from data frames are Series
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#you-can-index-without-loc-and-iloc-but-please-don-t-except">
   You can index without loc and iloc, but please don’t, except …
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#you-can-use-boolean-indexing-with-loc">
   You can use Boolean indexing with
   <code class="docutils literal notranslate">
    <span class="pre">
     .loc
    </span>
   </code>
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="indexing-in-pandas">
<h1>Indexing in Pandas<a class="headerlink" href="#indexing-in-pandas" title="Permalink to this headline">#</a></h1>
<p>Way back in the <a class="reference internal" href="../data-frames/df_basic_row_indexing.html"><span class="doc std std-doc">basic row indexing</span></a>, we
showed row selection by indexing into data frames with <em>Boolean vectors</em>, such
as Pandas Series. We called this <em>direct indexing with Boolean Series</em> (DIBS).
We also covered selecting columns by <a class="reference internal" href="../data-frames/df_basic_col_indexing.html"><span class="doc std std-doc">indexing into data frames with column
labels</span></a>.  We called this <em>direct indexing
with column labels</em> (DICL).</p>
<section id="simple-indexing-and-the-golden-rule">
<h2>Simple indexing and the golden rule<a class="headerlink" href="#simple-indexing-and-the-golden-rule" title="Permalink to this headline">#</a></h2>
<p>We will use the term <em>simple indexing</em> to cover both of DIBS and DICL.</p>
<p><strong>Simple Indexing</strong></p>
<blockquote>
<div><p>Direct indexing with either Boolean Series (DIBS) or column labels (DICL).</p>
</div></blockquote>
<p>The rest of this page covers more sophisticated indexing in Pandas - <em>indirect
indexing</em>.</p>
<p>Why don’t we use the term <em>direct indexing</em> instead of <em>simple indexing</em>?
Because there are various other things you can put inside the square brackets
using direct indexing.  We won’t go into other uses of direct indexing here,
because we strongly recommend that you restrict yourself to DIBS and DICL for
direct indexing — because other uses of direct indexing can quickly become
confusing and ambiguous, and because you can do all the indexing you need using
the indirect indexing techniques in this page.  As you will see, indirect
indexing uses the <code class="docutils literal notranslate"><span class="pre">.loc</span></code> and <code class="docutils literal notranslate"><span class="pre">.iloc</span></code>attributes of the DataFrame.</p>
<p>Here is the rule we propose.</p>
<p><strong>The Golden Rule of Pandas Indexing</strong></p>
<blockquote>
<div><p>Only use Boolean Series or column labels for direct indexing.  For any other
type of indexing, use indirect indexing with <code class="docutils literal notranslate"><span class="pre">.loc</span></code> and <code class="docutils literal notranslate"><span class="pre">.iloc</span></code>.</p>
</div></blockquote>
<p>We do not just advocate this rule for beginners.  We (your humble authors) also
stick to this rule, not only in this textbook, but in our daily work.  By
sticking to this rule, you will avoid some nasty and confusing errors, and you
will find it easier to think clearly about indexing.</p>
</section>
<section id="indirect-indexing">
<h2>Indirect indexing<a class="headerlink" href="#indirect-indexing" title="Permalink to this headline">#</a></h2>
<!---
Summary:

Simple indexing
Indirect indexing
   Labels with loc
   Positions with iloc
-->
<p>To understand indirect indexing, we return to the <a class="reference internal" href="../data-frames/df_index.html"><span class="doc std std-doc">index of data frames and
Series</span></a>.  The <em>index</em> contains the <em>row labels</em> for a
data frame or series.</p>
<p>We start with our usual imports:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the Numpy library, rename to &quot;np&quot;</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Load the Pandas data science library, rename to &quot;pd&quot;</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Safe setting for Pandas.  Needs Pandas version &gt;= 1.5.</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;mode.copy_on_write&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We return to a version of our first data frame, containing statistics on
development and gender from the World Bank.</p>
<p>This is the <a class="reference download internal" download="" href="../_downloads/edbbd6b35f646f310e25cc7605001544/gender_stats.csv"><code class="xref download docutils literal notranslate"><span class="pre">gender_stats.csv</span></code></a> file.
See <a class="reference external" href="https://github.com/matthew-brett/datasets/tree/master/gender_stats">the gender stats data
page</a> for
some more detail.</p>
<p>Download that file to the same directory as this notebook, if you are running
on your own computer.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the data file as a data frame.</span>
<span class="n">gender_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;gender_stats.csv&#39;</span><span class="p">)</span>

<span class="c1"># Show the first 10 rows</span>
<span class="n">gender_data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Aruba</td>
      <td>ABW</td>
      <td>1.66325</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>48.721939</td>
      <td>NaN</td>
      <td>0.103744</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Afghanistan</td>
      <td>AFG</td>
      <td>4.95450</td>
      <td>19.961015</td>
      <td>161.138034</td>
      <td>2.834598</td>
      <td>40.109708</td>
      <td>444.00</td>
      <td>32.715838</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Angola</td>
      <td>AGO</td>
      <td>6.12300</td>
      <td>111.936542</td>
      <td>254.747970</td>
      <td>2.447546</td>
      <td>NaN</td>
      <td>501.25</td>
      <td>26.937545</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Albania</td>
      <td>ALB</td>
      <td>1.76925</td>
      <td>12.327586</td>
      <td>574.202694</td>
      <td>2.836021</td>
      <td>47.201082</td>
      <td>29.25</td>
      <td>2.888280</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Andorra</td>
      <td>AND</td>
      <td>NaN</td>
      <td>3.197538</td>
      <td>4421.224933</td>
      <td>7.260281</td>
      <td>47.123345</td>
      <td>NaN</td>
      <td>0.079547</td>
    </tr>
    <tr>
      <th>5</th>
      <td>United Arab Emirates</td>
      <td>ARE</td>
      <td>1.79300</td>
      <td>375.027082</td>
      <td>2202.407569</td>
      <td>2.581168</td>
      <td>48.789260</td>
      <td>6.00</td>
      <td>9.080299</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Argentina</td>
      <td>ARG</td>
      <td>2.32800</td>
      <td>550.980968</td>
      <td>1148.256142</td>
      <td>2.782216</td>
      <td>48.915810</td>
      <td>53.75</td>
      <td>42.976675</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Armenia</td>
      <td>ARM</td>
      <td>1.54550</td>
      <td>10.885362</td>
      <td>348.663884</td>
      <td>1.916016</td>
      <td>46.782180</td>
      <td>27.25</td>
      <td>2.904683</td>
    </tr>
    <tr>
      <th>8</th>
      <td>American Samoa</td>
      <td>ASM</td>
      <td>NaN</td>
      <td>0.640500</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.055422</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Antigua and Barbuda</td>
      <td>ATG</td>
      <td>2.08200</td>
      <td>1.298213</td>
      <td>1152.493656</td>
      <td>3.676514</td>
      <td>48.291463</td>
      <td>NaN</td>
      <td>0.098872</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>As you know, the names at the top, in <strong>bold typeface</strong>, are the names of the
columns.  We can see these names using the <code class="docutils literal notranslate"><span class="pre">columns</span></code> attribute of the data
frame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gender_data</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;country_name&#39;, &#39;country_code&#39;, &#39;fert_rate&#39;, &#39;gdp_us_billion&#39;,
       &#39;health_exp_per_cap&#39;, &#39;health_exp_pub&#39;, &#39;prim_ed_girls&#39;,
       &#39;mat_mort_ratio&#39;, &#39;population&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>These can also be called the <em>column labels</em>.</p>
<p>Here is a summary of the meaning of most of the columns:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fert_rate</span></code>: Fertility rate, total (births per woman).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gdp_us_billion</span></code>: GDP (in current US $ billions).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">health_exp_per_cap</span></code>: Health expenditure per capita, PPP (constant 2011
international $).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">health_exp_pub</span></code>: Health expenditure, public (% of GDP).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prim_ed_girls</span></code>: Primary education, pupils (% female).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mat_mort_ratio</span></code>: Maternal mortality ratio (modeled estimate, per 100,000
live births).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">population</span></code>: Population, total (millions).</p></li>
</ul>
<p>We have not paid attention so far to the numbers at the left of the table
display, also in bold typeface.</p>
<p>In this case, they are ascending integers, starting at 0, with value 0 for the
first row, 1 for the second row, and so on.</p>
<p>These numbers are the <em>index</em> of the data frame.  The index contains the <em>row
labels</em>.</p>
<p>We can see the row labels / index with the <code class="docutils literal notranslate"><span class="pre">index</span></code> attribute of the data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gender_data</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=216, step=1)
</pre></div>
</div>
</div>
</div>
<p>This is saying we have a simple index, that is like a <code class="docutils literal notranslate"><span class="pre">np.arange</span></code>, starting at
0, and continuing in steps of 1 up to, but not including 216.</p>
<p>So far, the index looks like row numbers, with 0 for the first row, 1 for the
second row.  We will soon see that the index is more than that.</p>
<p>For example, let us look at the last 15 rows.  We can get these with the <code class="docutils literal notranslate"><span class="pre">tail</span></code>
method of the data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">last_15</span> <span class="o">=</span> <span class="n">gender_data</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">last_15</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>201</th>
      <td>Uruguay</td>
      <td>URY</td>
      <td>2.027000</td>
      <td>54.345132</td>
      <td>1721.507752</td>
      <td>6.044403</td>
      <td>48.295555</td>
      <td>15.50</td>
      <td>3.419977</td>
    </tr>
    <tr>
      <th>202</th>
      <td>United States</td>
      <td>USA</td>
      <td>1.860875</td>
      <td>17369.124600</td>
      <td>9060.068657</td>
      <td>8.121961</td>
      <td>48.758830</td>
      <td>14.00</td>
      <td>318.558175</td>
    </tr>
    <tr>
      <th>203</th>
      <td>Uzbekistan</td>
      <td>UZB</td>
      <td>2.372750</td>
      <td>61.340649</td>
      <td>334.476754</td>
      <td>3.118842</td>
      <td>48.387434</td>
      <td>37.00</td>
      <td>30.784500</td>
    </tr>
    <tr>
      <th>204</th>
      <td>St. Vincent and the Grenadines</td>
      <td>VCT</td>
      <td>1.986000</td>
      <td>0.730107</td>
      <td>775.803386</td>
      <td>4.365757</td>
      <td>48.536415</td>
      <td>45.75</td>
      <td>0.109421</td>
    </tr>
    <tr>
      <th>205</th>
      <td>Venezuela, RB</td>
      <td>VEN</td>
      <td>2.378250</td>
      <td>376.146268</td>
      <td>896.815314</td>
      <td>1.587088</td>
      <td>48.400934</td>
      <td>97.00</td>
      <td>30.734524</td>
    </tr>
    <tr>
      <th>206</th>
      <td>British Virgin Islands</td>
      <td>VGB</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>47.581520</td>
      <td>NaN</td>
      <td>0.029585</td>
    </tr>
    <tr>
      <th>207</th>
      <td>Virgin Islands (U.S.)</td>
      <td>VIR</td>
      <td>1.760000</td>
      <td>3.812000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.104141</td>
    </tr>
    <tr>
      <th>208</th>
      <td>Vietnam</td>
      <td>VNM</td>
      <td>1.959500</td>
      <td>181.820736</td>
      <td>368.374550</td>
      <td>3.779501</td>
      <td>48.021053</td>
      <td>54.75</td>
      <td>90.742400</td>
    </tr>
    <tr>
      <th>209</th>
      <td>Vanuatu</td>
      <td>VUT</td>
      <td>3.364750</td>
      <td>0.782876</td>
      <td>125.568712</td>
      <td>3.689874</td>
      <td>47.301617</td>
      <td>82.50</td>
      <td>0.258896</td>
    </tr>
    <tr>
      <th>210</th>
      <td>Samoa</td>
      <td>WSM</td>
      <td>4.118250</td>
      <td>0.799887</td>
      <td>366.353096</td>
      <td>5.697059</td>
      <td>48.350049</td>
      <td>54.75</td>
      <td>0.192225</td>
    </tr>
    <tr>
      <th>211</th>
      <td>Kosovo</td>
      <td>XKX</td>
      <td>2.142500</td>
      <td>6.804620</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.813820</td>
    </tr>
    <tr>
      <th>212</th>
      <td>Yemen, Rep.</td>
      <td>YEM</td>
      <td>4.225750</td>
      <td>36.819337</td>
      <td>207.949700</td>
      <td>1.417836</td>
      <td>44.470076</td>
      <td>399.75</td>
      <td>26.246608</td>
    </tr>
    <tr>
      <th>213</th>
      <td>South Africa</td>
      <td>ZAF</td>
      <td>2.375250</td>
      <td>345.209888</td>
      <td>1123.142656</td>
      <td>4.241441</td>
      <td>48.516298</td>
      <td>143.75</td>
      <td>54.177209</td>
    </tr>
    <tr>
      <th>214</th>
      <td>Zambia</td>
      <td>ZMB</td>
      <td>5.394250</td>
      <td>24.280990</td>
      <td>185.556359</td>
      <td>2.687290</td>
      <td>49.934484</td>
      <td>233.75</td>
      <td>15.633220</td>
    </tr>
    <tr>
      <th>215</th>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>3.943000</td>
      <td>15.495514</td>
      <td>115.519881</td>
      <td>2.695188</td>
      <td>49.529875</td>
      <td>398.00</td>
      <td>15.420964</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Here is the <code class="docutils literal notranslate"><span class="pre">index</span></code> of this new data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">last_15</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=201, stop=216, step=1)
</pre></div>
</div>
</div>
</div>
<p>Notice that the first row of this new data frame no longer has the label 0 - it
has label 201.  These numbers are the labels from the original data frame, from
which we selected the rows.</p>
<p>Notice too that the second row in this table is the USA, and it has the label
\202.</p>
<p>Now imagine that I sort the original data frame by Gross Domestic Product, and
select the top 15 rows.  By doing this, I select the top 15 richest countries.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort by GDP.</span>
<span class="n">df_by_gdp</span> <span class="o">=</span> <span class="n">gender_data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;gdp_us_billion&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># Take the top 15 rows.</span>
<span class="n">richest_15</span> <span class="o">=</span> <span class="n">df_by_gdp</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">richest_15</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>202</th>
      <td>United States</td>
      <td>USA</td>
      <td>1.860875</td>
      <td>17369.124600</td>
      <td>9060.068657</td>
      <td>8.121961</td>
      <td>48.758830</td>
      <td>14.00</td>
      <td>318.558175</td>
    </tr>
    <tr>
      <th>35</th>
      <td>China</td>
      <td>CHN</td>
      <td>1.558750</td>
      <td>10182.790479</td>
      <td>657.748859</td>
      <td>3.015530</td>
      <td>46.297964</td>
      <td>28.75</td>
      <td>1364.446000</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Japan</td>
      <td>JPN</td>
      <td>1.430000</td>
      <td>5106.024760</td>
      <td>3687.126279</td>
      <td>8.496074</td>
      <td>48.744199</td>
      <td>5.75</td>
      <td>127.297102</td>
    </tr>
    <tr>
      <th>49</th>
      <td>Germany</td>
      <td>DEU</td>
      <td>1.450000</td>
      <td>3601.226158</td>
      <td>4909.659884</td>
      <td>8.542615</td>
      <td>48.568695</td>
      <td>6.25</td>
      <td>81.281645</td>
    </tr>
    <tr>
      <th>67</th>
      <td>United Kingdom</td>
      <td>GBR</td>
      <td>1.842500</td>
      <td>2768.864417</td>
      <td>3357.983675</td>
      <td>7.720655</td>
      <td>48.791809</td>
      <td>9.25</td>
      <td>64.641557</td>
    </tr>
    <tr>
      <th>63</th>
      <td>France</td>
      <td>FRA</td>
      <td>2.005000</td>
      <td>2647.649725</td>
      <td>4387.835406</td>
      <td>8.920420</td>
      <td>48.772050</td>
      <td>8.75</td>
      <td>66.302099</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Brazil</td>
      <td>BRA</td>
      <td>1.795250</td>
      <td>2198.765606</td>
      <td>1303.199104</td>
      <td>3.773473</td>
      <td>47.784577</td>
      <td>49.50</td>
      <td>204.159544</td>
    </tr>
    <tr>
      <th>88</th>
      <td>India</td>
      <td>IND</td>
      <td>2.449250</td>
      <td>2019.005411</td>
      <td>241.572477</td>
      <td>1.292666</td>
      <td>49.497234</td>
      <td>185.25</td>
      <td>1293.742537</td>
    </tr>
    <tr>
      <th>94</th>
      <td>Italy</td>
      <td>ITA</td>
      <td>1.390000</td>
      <td>2005.983980</td>
      <td>3266.984094</td>
      <td>6.984374</td>
      <td>48.407573</td>
      <td>4.00</td>
      <td>60.378795</td>
    </tr>
    <tr>
      <th>164</th>
      <td>Russian Federation</td>
      <td>RUS</td>
      <td>1.724500</td>
      <td>1822.691700</td>
      <td>1755.506635</td>
      <td>3.731354</td>
      <td>48.968070</td>
      <td>25.25</td>
      <td>143.793504</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Canada</td>
      <td>CAN</td>
      <td>1.600300</td>
      <td>1708.473627</td>
      <td>4616.539134</td>
      <td>7.546247</td>
      <td>48.808926</td>
      <td>7.25</td>
      <td>35.517119</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Australia</td>
      <td>AUS</td>
      <td>1.861500</td>
      <td>1422.994116</td>
      <td>4256.058988</td>
      <td>6.292381</td>
      <td>48.576707</td>
      <td>6.00</td>
      <td>23.444560</td>
    </tr>
    <tr>
      <th>104</th>
      <td>Korea, Rep.</td>
      <td>KOR</td>
      <td>1.232000</td>
      <td>1346.751162</td>
      <td>2385.447251</td>
      <td>3.915606</td>
      <td>48.023388</td>
      <td>12.00</td>
      <td>50.727212</td>
    </tr>
    <tr>
      <th>58</th>
      <td>Spain</td>
      <td>ESP</td>
      <td>1.307500</td>
      <td>1299.724261</td>
      <td>2963.832825</td>
      <td>6.545739</td>
      <td>48.722231</td>
      <td>5.00</td>
      <td>46.553128</td>
    </tr>
    <tr>
      <th>124</th>
      <td>Mexico</td>
      <td>MEX</td>
      <td>2.257000</td>
      <td>1188.802780</td>
      <td>1081.208948</td>
      <td>3.225839</td>
      <td>48.906296</td>
      <td>40.00</td>
      <td>124.203450</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now notice that the index values have followed their respective rows.  The row
for the USA is now first, but it has kept its original index value (row label)
- 202.  The index value <em>identifies</em> the row.</p>
<p>Here is the index for this small table:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">richest_15</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Int64Index([202, 35, 97, 49, 67, 63, 26, 88, 94, 164, 32, 10, 104, 58, 124], dtype=&#39;int64&#39;)
</pre></div>
</div>
</div>
</div>
<p>Now let us say that I wanted to get the eleventh row of this table.</p>
<p>I would be tempted to do something like <code class="docutils literal notranslate"><span class="pre">richest_15[10]</span></code> - but then - what
would Pandas give me?   Does <code class="docutils literal notranslate"><span class="pre">10</span></code> mean the row label for “Australia”?  Or does
it mean the eleventh row of the table, as it would for an array, and therefore
the row for “Canada”?  That is, will the indexing using the <em>labels</em> (index
values)?  Or will it use the positions (as for indexing in Numpy arrays)?</p>
<p>The answer is, it is ambiguous, and when things are ambiguous, Pandas has to
guess.   That’s a bad idea, because then we have to guess what Pandas has
guessed, and it is starting to get really confusing.</p>
<p>For that reason, we careful Pandas users do not index rows with code like
<code class="docutils literal notranslate"><span class="pre">richest_15[10]</span></code>.  When we are not using Booleans to select rows, we always use
one of the two indexing attributes that Pandas provides.  Each does a different
type of indexing.</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">loc</span></code> (label locate) attribute indexes using the <em>labels</em> (row index).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">iloc</span></code> (position locate) attribute indexes using the positions.</p></li>
</ul>
<p>Here they are in action:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the row with label 10</span>
<span class="n">richest_15</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>country_name            Australia
country_code                  AUS
fert_rate                  1.8615
gdp_us_billion        1422.994116
health_exp_per_cap    4256.058988
health_exp_pub           6.292381
prim_ed_girls           48.576707
mat_mort_ratio                6.0
population               23.44456
Name: 10, dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the row at position / offset 10</span>
<span class="n">richest_15</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>country_name               Canada
country_code                  CAN
fert_rate                  1.6003
gdp_us_billion        1708.473627
health_exp_per_cap    4616.539134
health_exp_pub           7.546247
prim_ed_girls           48.808926
mat_mort_ratio               7.25
population              35.517119
Name: 32, dtype: object
</pre></div>
</div>
</div>
</div>
<p>In more details, what is happening in the first cell above is that
<code class="docutils literal notranslate"><span class="pre">richest_15.loc</span></code> gives us a special value (AKA <em>object</em>) that:</p>
<ul class="simple">
<li><p>knows about the <code class="docutils literal notranslate"><span class="pre">richest_15</span></code> data frame;</p></li>
<li><p>will give us rows and columns, if we use <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">something</span> <span class="pre">]</span></code> on it.</p></li>
</ul>
<p>So, read <code class="docutils literal notranslate"><span class="pre">richest_15.loc[10]</span></code> as:</p>
<ul class="simple">
<li><p>Get the <code class="docutils literal notranslate"><span class="pre">richest_15</span></code> value (the data frame);</p></li>
<li><p>Get the <code class="docutils literal notranslate"><span class="pre">loc</span></code> attribute of this data frame. This evaluates to a special
object (value) that can give us rows and columns from the data frame, by
looking at labels;</p></li>
<li><p>Use this object to fetch the row labeled 10, by using indexing (<code class="docutils literal notranslate"><span class="pre">[10]</span></code>)</p></li>
</ul>
<p>Likewise, read <code class="docutils literal notranslate"><span class="pre">richest_15.iloc[10]</span></code> as:</p>
<ul class="simple">
<li><p>Get the <code class="docutils literal notranslate"><span class="pre">richest_15</span></code> value (the data frame);</p></li>
<li><p>Get the <code class="docutils literal notranslate"><span class="pre">iloc</span></code> attribute of this data frame. This evaluates to a special
object (value) that can give us rows and columns from the data frame, by
looking at positions (offsets);</p></li>
<li><p>Use this object to fetch the row at offset 10, by using indexing (<code class="docutils literal notranslate"><span class="pre">[10]</span></code>).</p></li>
</ul>
<p>When you select rows and columns from a data frame, consider carefully what you
want.</p>
<p>Do you want to select rows and columns by <em>label</em> (by <em>index</em>, in the rows).
Then you want <code class="docutils literal notranslate"><span class="pre">.loc</span></code>.</p>
<p>Do you want to select rows and columns by <em>position</em> (offset).  Then you want
<code class="docutils literal notranslate"><span class="pre">.iloc</span></code>.</p>
</section>
<section id="indexing-and-slices">
<h2>indexing and slices<a class="headerlink" href="#indexing-and-slices" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">.loc</span></code> indexing gets you rows and columns by <em>label</em>.</p>
<p>One form of indexing you have seen for arrays, is labeling by <em>slice</em>, to get a
sequence of values.</p>
<p>A <em>slice</em> is an expression with a colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>) in it somewhere.  Here’s slice
indexing into an array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">,</span> <span class="s1">&#39;four&#39;</span><span class="p">,</span> <span class="s1">&#39;five&#39;</span><span class="p">])</span>
<span class="c1"># Give array of values from position 2 up to, not including position 4</span>
<span class="n">my_array</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;three&#39;, &#39;four&#39;], dtype=&#39;&lt;U5&#39;)
</pre></div>
</div>
</div>
</div>
<p>The same sort of indexing works using both <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> and <code class="docutils literal notranslate"><span class="pre">.loc</span></code>.  For <code class="docutils literal notranslate"><span class="pre">.iloc</span></code>,
the parallel is obvious - because we specify positions in exactly the same way:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Rows from position 2, up to, not including, position 4</span>
<span class="n">richest_15</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>97</th>
      <td>Japan</td>
      <td>JPN</td>
      <td>1.43</td>
      <td>5106.024760</td>
      <td>3687.126279</td>
      <td>8.496074</td>
      <td>48.744199</td>
      <td>5.75</td>
      <td>127.297102</td>
    </tr>
    <tr>
      <th>49</th>
      <td>Germany</td>
      <td>DEU</td>
      <td>1.45</td>
      <td>3601.226158</td>
      <td>4909.659884</td>
      <td>8.542615</td>
      <td>48.568695</td>
      <td>6.25</td>
      <td>81.281645</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>You can also do this kind of indexing with <code class="docutils literal notranslate"><span class="pre">.loc</span></code>, but it works differently.
To make this clear, let’s start with <code class="docutils literal notranslate"><span class="pre">.loc</span></code> indexing where the row labels are
strings.  We set the row labels to be the country codes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">richest_15_with_code</span> <span class="o">=</span> <span class="n">richest_15</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;country_code&#39;</span><span class="p">)</span>
<span class="n">richest_15_with_code</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
    <tr>
      <th>country_code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>USA</th>
      <td>United States</td>
      <td>1.860875</td>
      <td>17369.124600</td>
      <td>9060.068657</td>
      <td>8.121961</td>
      <td>48.758830</td>
      <td>14.00</td>
      <td>318.558175</td>
    </tr>
    <tr>
      <th>CHN</th>
      <td>China</td>
      <td>1.558750</td>
      <td>10182.790479</td>
      <td>657.748859</td>
      <td>3.015530</td>
      <td>46.297964</td>
      <td>28.75</td>
      <td>1364.446000</td>
    </tr>
    <tr>
      <th>JPN</th>
      <td>Japan</td>
      <td>1.430000</td>
      <td>5106.024760</td>
      <td>3687.126279</td>
      <td>8.496074</td>
      <td>48.744199</td>
      <td>5.75</td>
      <td>127.297102</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>Germany</td>
      <td>1.450000</td>
      <td>3601.226158</td>
      <td>4909.659884</td>
      <td>8.542615</td>
      <td>48.568695</td>
      <td>6.25</td>
      <td>81.281645</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>United Kingdom</td>
      <td>1.842500</td>
      <td>2768.864417</td>
      <td>3357.983675</td>
      <td>7.720655</td>
      <td>48.791809</td>
      <td>9.25</td>
      <td>64.641557</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>France</td>
      <td>2.005000</td>
      <td>2647.649725</td>
      <td>4387.835406</td>
      <td>8.920420</td>
      <td>48.772050</td>
      <td>8.75</td>
      <td>66.302099</td>
    </tr>
    <tr>
      <th>BRA</th>
      <td>Brazil</td>
      <td>1.795250</td>
      <td>2198.765606</td>
      <td>1303.199104</td>
      <td>3.773473</td>
      <td>47.784577</td>
      <td>49.50</td>
      <td>204.159544</td>
    </tr>
    <tr>
      <th>IND</th>
      <td>India</td>
      <td>2.449250</td>
      <td>2019.005411</td>
      <td>241.572477</td>
      <td>1.292666</td>
      <td>49.497234</td>
      <td>185.25</td>
      <td>1293.742537</td>
    </tr>
    <tr>
      <th>ITA</th>
      <td>Italy</td>
      <td>1.390000</td>
      <td>2005.983980</td>
      <td>3266.984094</td>
      <td>6.984374</td>
      <td>48.407573</td>
      <td>4.00</td>
      <td>60.378795</td>
    </tr>
    <tr>
      <th>RUS</th>
      <td>Russian Federation</td>
      <td>1.724500</td>
      <td>1822.691700</td>
      <td>1755.506635</td>
      <td>3.731354</td>
      <td>48.968070</td>
      <td>25.25</td>
      <td>143.793504</td>
    </tr>
    <tr>
      <th>CAN</th>
      <td>Canada</td>
      <td>1.600300</td>
      <td>1708.473627</td>
      <td>4616.539134</td>
      <td>7.546247</td>
      <td>48.808926</td>
      <td>7.25</td>
      <td>35.517119</td>
    </tr>
    <tr>
      <th>AUS</th>
      <td>Australia</td>
      <td>1.861500</td>
      <td>1422.994116</td>
      <td>4256.058988</td>
      <td>6.292381</td>
      <td>48.576707</td>
      <td>6.00</td>
      <td>23.444560</td>
    </tr>
    <tr>
      <th>KOR</th>
      <td>Korea, Rep.</td>
      <td>1.232000</td>
      <td>1346.751162</td>
      <td>2385.447251</td>
      <td>3.915606</td>
      <td>48.023388</td>
      <td>12.00</td>
      <td>50.727212</td>
    </tr>
    <tr>
      <th>ESP</th>
      <td>Spain</td>
      <td>1.307500</td>
      <td>1299.724261</td>
      <td>2963.832825</td>
      <td>6.545739</td>
      <td>48.722231</td>
      <td>5.00</td>
      <td>46.553128</td>
    </tr>
    <tr>
      <th>MEX</th>
      <td>Mexico</td>
      <td>2.257000</td>
      <td>1188.802780</td>
      <td>1081.208948</td>
      <td>3.225839</td>
      <td>48.906296</td>
      <td>40.00</td>
      <td>124.203450</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>As we would expect, we will get an error if we try to use numbers for <code class="docutils literal notranslate"><span class="pre">.loc</span></code>
row indexing, because <code class="docutils literal notranslate"><span class="pre">.loc</span></code> indexing only uses labels, and the labels are now
all strings:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">richest_15_with_code</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">richest_15_with_code</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexing.py:1073,</span> in <span class="ni">_LocationIndexer.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">1070</span> <span class="n">axis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis</span> <span class="ow">or</span> <span class="mi">0</span>
<span class="g g-Whitespace">   </span><span class="mi">1072</span> <span class="n">maybe_callable</span> <span class="o">=</span> <span class="n">com</span><span class="o">.</span><span class="n">apply_if_callable</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1073</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_axis</span><span class="p">(</span><span class="n">maybe_callable</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexing.py:1290,</span> in <span class="ni">_LocIndexer._getitem_axis</span><span class="nt">(self, key, axis)</span>
<span class="g g-Whitespace">   </span><span class="mi">1288</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1289</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_validate_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1290</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_slice_axis</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1291</span> <span class="k">elif</span> <span class="n">com</span><span class="o">.</span><span class="n">is_bool_indexer</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1292</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getbool_axis</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexing.py:1324,</span> in <span class="ni">_LocIndexer._get_slice_axis</span><span class="nt">(self, slice_obj, axis)</span>
<span class="g g-Whitespace">   </span><span class="mi">1321</span>     <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1323</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">_get_axis</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1324</span> <span class="n">indexer</span> <span class="o">=</span> <span class="n">labels</span><span class="o">.</span><span class="n">slice_indexer</span><span class="p">(</span><span class="n">slice_obj</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">slice_obj</span><span class="o">.</span><span class="n">stop</span><span class="p">,</span> <span class="n">slice_obj</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1326</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indexer</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1327</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">_slice</span><span class="p">(</span><span class="n">indexer</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py:6559,</span> in <span class="ni">Index.slice_indexer</span><span class="nt">(self, start, end, step, kind)</span>
<span class="g g-Whitespace">   </span><span class="mi">6516</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">6517</span><span class="sd"> Compute the slice indexer for input labels and step.</span>
<span class="g g-Whitespace">   </span><span class="mi">6518</span><span class="sd"> </span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">   </span><span class="mi">6555</span><span class="sd"> slice(1, 3, None)</span>
<span class="g g-Whitespace">   </span><span class="mi">6556</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">6557</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deprecated_arg</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="s2">&quot;kind&quot;</span><span class="p">,</span> <span class="s2">&quot;slice_indexer&quot;</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">6559</span> <span class="n">start_slice</span><span class="p">,</span> <span class="n">end_slice</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">slice_locs</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">6561</span> <span class="c1"># return a slice</span>
<span class="g g-Whitespace">   </span><span class="mi">6562</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">is_scalar</span><span class="p">(</span><span class="n">start_slice</span><span class="p">):</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py:6767,</span> in <span class="ni">Index.slice_locs</span><span class="nt">(self, start, end, step, kind)</span>
<span class="g g-Whitespace">   </span><span class="mi">6765</span> <span class="n">start_slice</span> <span class="o">=</span> <span class="kc">None</span>
<span class="g g-Whitespace">   </span><span class="mi">6766</span> <span class="k">if</span> <span class="n">start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">6767</span>     <span class="n">start_slice</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_slice_bound</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">6768</span> <span class="k">if</span> <span class="n">start_slice</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">6769</span>     <span class="n">start_slice</span> <span class="o">=</span> <span class="mi">0</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py:6676,</span> in <span class="ni">Index.get_slice_bound</span><span class="nt">(self, label, side, kind)</span>
<span class="g g-Whitespace">   </span><span class="mi">6672</span> <span class="n">original_label</span> <span class="o">=</span> <span class="n">label</span>
<span class="g g-Whitespace">   </span><span class="mi">6674</span> <span class="c1"># For datetime indices label may be a string that has to be converted</span>
<span class="g g-Whitespace">   </span><span class="mi">6675</span> <span class="c1"># to datetime boundary according to its resolution.</span>
<span class="ne">-&gt; </span><span class="mi">6676</span> <span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maybe_cast_slice_bound</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">side</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">6678</span> <span class="c1"># we need to look up the label</span>
<span class="g g-Whitespace">   </span><span class="mi">6679</span> <span class="k">try</span><span class="p">:</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py:6623,</span> in <span class="ni">Index._maybe_cast_slice_bound</span><span class="nt">(self, label, side, kind)</span>
<span class="g g-Whitespace">   </span><span class="mi">6618</span> <span class="c1"># We are a plain index here (sub-class override this method if they</span>
<span class="g g-Whitespace">   </span><span class="mi">6619</span> <span class="c1"># wish to have special treatment for floats/ints, e.g. Float64Index and</span>
<span class="g g-Whitespace">   </span><span class="mi">6620</span> <span class="c1"># datetimelike Indexes</span>
<span class="g g-Whitespace">   </span><span class="mi">6621</span> <span class="c1"># reject them, if index does not contain label</span>
<span class="g g-Whitespace">   </span><span class="mi">6622</span> <span class="k">if</span> <span class="p">(</span><span class="n">is_float</span><span class="p">(</span><span class="n">label</span><span class="p">)</span> <span class="ow">or</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">label</span><span class="p">))</span> <span class="ow">and</span> <span class="n">label</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">6623</span>     <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">_invalid_indexer</span><span class="p">(</span><span class="s2">&quot;slice&quot;</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">6625</span> <span class="k">return</span> <span class="n">label</span>

<span class="ne">TypeError</span>: cannot do slice indexing on Index with these indexers [2] of type int
</pre></div>
</div>
</div>
</div>
<p>In fact we can use slices, but the value in front of the colon (if any) is the
<em>label</em> of the first row we want, and the value after the colon is the <em>label</em>
of the <em>last</em> row we want.</p>
<p>Notice that <em>this is different from position indexing</em> for arrays, or using
<code class="docutils literal notranslate"><span class="pre">.iloc</span></code>.  In those cases, the value after the colon gives the <em>stop</em> position.
We return values from positions up to <em>but not including</em> the stop position.
As a reminder:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># From position 2 up to, but not including, position 4</span>
<span class="n">richest_15_with_code</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
    <tr>
      <th>country_code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>JPN</th>
      <td>Japan</td>
      <td>1.43</td>
      <td>5106.024760</td>
      <td>3687.126279</td>
      <td>8.496074</td>
      <td>48.744199</td>
      <td>5.75</td>
      <td>127.297102</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>Germany</td>
      <td>1.45</td>
      <td>3601.226158</td>
      <td>4909.659884</td>
      <td>8.542615</td>
      <td>48.568695</td>
      <td>6.25</td>
      <td>81.281645</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now consider this <code class="docutils literal notranslate"><span class="pre">.loc</span></code> indexing with a slice.  Here the value after the colon
is not a <em>stop</em> value, but an <em>end</em> label.  We <em>do</em> return the row
corresponding to the end label:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># All countries starting at label &#39;JPN&#39; and ending (including)</span>
<span class="c1"># row labeled &#39;FRA&#39;</span>
<span class="n">richest_15_with_code</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;JPN&#39;</span><span class="p">:</span><span class="s1">&#39;FRA&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
    <tr>
      <th>country_code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>JPN</th>
      <td>Japan</td>
      <td>1.4300</td>
      <td>5106.024760</td>
      <td>3687.126279</td>
      <td>8.496074</td>
      <td>48.744199</td>
      <td>5.75</td>
      <td>127.297102</td>
    </tr>
    <tr>
      <th>DEU</th>
      <td>Germany</td>
      <td>1.4500</td>
      <td>3601.226158</td>
      <td>4909.659884</td>
      <td>8.542615</td>
      <td>48.568695</td>
      <td>6.25</td>
      <td>81.281645</td>
    </tr>
    <tr>
      <th>GBR</th>
      <td>United Kingdom</td>
      <td>1.8425</td>
      <td>2768.864417</td>
      <td>3357.983675</td>
      <td>7.720655</td>
      <td>48.791809</td>
      <td>9.25</td>
      <td>64.641557</td>
    </tr>
    <tr>
      <th>FRA</th>
      <td>France</td>
      <td>2.0050</td>
      <td>2647.649725</td>
      <td>4387.835406</td>
      <td>8.920420</td>
      <td>48.772050</td>
      <td>8.75</td>
      <td>66.302099</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>For reflection</strong> - why did Pandas choose to make label indexing work this
way?  Have a look at the example above.</p>
</section>
<section id="loc-and-iloc-indexing-work-on-columns-too">
<h2>Loc and iloc indexing work on columns too<a class="headerlink" href="#loc-and-iloc-indexing-work-on-columns-too" title="Permalink to this headline">#</a></h2>
<p>Consider this.  We use <code class="docutils literal notranslate"><span class="pre">.loc</span></code> and the label for the <em>row</em>, followed by the
label for the <em>column</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">richest_15</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;gdp_us_billion&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1422.994116449394
</pre></div>
</div>
</div>
</div>
<p>This selects the row <em>labeled</em> 10 (the USA row) and returns the value from the
<code class="docutils literal notranslate"><span class="pre">gdp_us_billion</span></code> column.</p>
<p>Conversely, <code class="docutils literal notranslate"><span class="pre">iloc</span></code> only understands positions, and so, integers.  It does not
understand or use labels:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We can&#39;t specify columns by label, using iloc.</span>
<span class="n">richest_15</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;gdp_us_billion&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexing.py:873,</span> in <span class="ni">_LocationIndexer._validate_tuple_indexer</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">    </span><span class="mi">872</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">873</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_validate_key</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">874</span> <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexing.py:1483,</span> in <span class="ni">_iLocIndexer._validate_key</span><span class="nt">(self, key, axis)</span>
<span class="g g-Whitespace">   </span><span class="mi">1482</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1483</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can only index by location with a [</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_valid_types</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>

<span class="ne">ValueError</span>: Can only index by location with a [integer, integer slice (START point is INCLUDED, END point is EXCLUDED), listlike of integers, boolean array]

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># We can&#39;t specify columns by label, using iloc.</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">richest_15</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;gdp_us_billion&#39;</span><span class="p">]</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexing.py:1067,</span> in <span class="ni">_LocationIndexer.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">1065</span>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_scalar_access</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1066</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">_get_value</span><span class="p">(</span><span class="o">*</span><span class="n">key</span><span class="p">,</span> <span class="n">takeable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_takeable</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1067</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_tuple</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1068</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1069</span>     <span class="c1"># we by definition only have the 0th axis</span>
<span class="g g-Whitespace">   </span><span class="mi">1070</span>     <span class="n">axis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis</span> <span class="ow">or</span> <span class="mi">0</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexing.py:1563,</span> in <span class="ni">_iLocIndexer._getitem_tuple</span><span class="nt">(self, tup)</span>
<span class="g g-Whitespace">   </span><span class="mi">1561</span> <span class="k">def</span> <span class="nf">_getitem_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tup</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">):</span>
<span class="ne">-&gt; </span><span class="mi">1563</span>     <span class="n">tup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_tuple_indexer</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1564</span>     <span class="k">with</span> <span class="n">suppress</span><span class="p">(</span><span class="n">IndexingError</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1565</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_lowerdim</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/pandas/core/indexing.py:875,</span> in <span class="ni">_LocationIndexer._validate_tuple_indexer</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">    </span><span class="mi">873</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_validate_key</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">874</span>     <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">875</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">876</span>             <span class="s2">&quot;Location based indexing can only have &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">877</span>             <span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_valid_types</span><span class="si">}</span><span class="s2">] types&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">878</span>         <span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">    </span><span class="mi">879</span> <span class="k">return</span> <span class="n">key</span>

<span class="ne">ValueError</span>: Location based indexing can only have [integer, integer slice (START point is INCLUDED, END point is EXCLUDED), listlike of integers, boolean array] types
</pre></div>
</div>
</div>
</div>
<p>Notice the somewhat informative error right at the bottom of the error message.</p>
<p><code class="docutils literal notranslate"><span class="pre">iloc</span></code> can get columns by their position.  For example, <code class="docutils literal notranslate"><span class="pre">fertility_rate</span></code> is the
third column, and so we can get the fertility rate by asking <code class="docutils literal notranslate"><span class="pre">iloc</span></code> for the
eleventh row, third column, like so:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">richest_15</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.6002999999999998
</pre></div>
</div>
</div>
</div>
<p>This is the value from the row at offset 10 and the column at offset 2.</p>
</section>
<section id="series-have-an-index-too">
<h2>Series have an index too<a class="headerlink" href="#series-have-an-index-too" title="Permalink to this headline">#</a></h2>
<p>Data frames have columns (and column labels), and rows (with row labels — the
index).</p>
<p>Series also have element labels — they also have an index.</p>
<p>Consider this column, of the fertility rates of the richest countries:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the fert_rate column from the data frame</span>
<span class="n">rich_ferts</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="s1">&#39;fert_rate&#39;</span><span class="p">]</span>
<span class="n">rich_ferts</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>202    1.860875
35     1.558750
97     1.430000
49     1.450000
67     1.842500
Name: fert_rate, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>As y’all know, this is a Series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">rich_ferts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.series.Series
</pre></div>
</div>
</div>
</div>
<p>You probably also spotted the numbers to the left of the values.  Yes, the row
labels have come across from the data frame into the Series.  We can see that
the first element has row label 202, and we remember that this is the row label
(index value) for the USA.</p>
<p>As for the data frames, here is the index for the series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rich_ferts</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Int64Index([202, 35, 97, 49, 67, 63, 26, 88, 94, 164, 32, 10, 104, 58, 124], dtype=&#39;int64&#39;)
</pre></div>
</div>
</div>
</div>
<p>Like data frames, we can index by label, with <code class="docutils literal notranslate"><span class="pre">loc</span></code>, and by position, with
<code class="docutils literal notranslate"><span class="pre">iloc</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The value for row labeled 10 - Australia.</span>
<span class="n">rich_ferts</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.8615
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The value for the row at position 10 - Canada</span>
<span class="n">rich_ferts</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.6002999999999998
</pre></div>
</div>
</div>
</div>
</section>
<section id="rows-from-data-frames-are-series">
<h2>Rows from data frames are Series<a class="headerlink" href="#rows-from-data-frames-are-series" title="Permalink to this headline">#</a></h2>
<p>Here we select the row at position 0 (the first row):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first_row</span> <span class="o">=</span> <span class="n">richest_15</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">first_row</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>country_name          United States
country_code                    USA
fert_rate                  1.860875
gdp_us_billion           17369.1246
health_exp_per_cap      9060.068657
health_exp_pub             8.121961
prim_ed_girls              48.75883
mat_mort_ratio                 14.0
population               318.558175
Name: 202, dtype: object
</pre></div>
</div>
</div>
</div>
<p>This is a Series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">first_row</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.series.Series
</pre></div>
</div>
</div>
</div>
<p>Notice that the Series has 9 elements, one for each column in the data frame.</p>
<p>As you remember, we can see the number of rows and columns in a data frame
with:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">richest_15</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(15, 9)
</pre></div>
</div>
</div>
</div>
<p>Remember, the columns have names, which we can also call <em>labels</em>.</p>
<p>When we select a row out of a data frame, we have one element per column, and
the labels for the columns now become the labels for the rows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first_row</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;country_name&#39;, &#39;country_code&#39;, &#39;fert_rate&#39;, &#39;gdp_us_billion&#39;,
       &#39;health_exp_per_cap&#39;, &#39;health_exp_pub&#39;, &#39;prim_ed_girls&#39;,
       &#39;mat_mort_ratio&#39;, &#39;population&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>As for any other Series, we can get elements by label, with <code class="docutils literal notranslate"><span class="pre">loc</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first_row</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;fert_rate&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.860875
</pre></div>
</div>
</div>
</div>
<p>We can also get elements by position (offset), with <code class="docutils literal notranslate"><span class="pre">iloc</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first_row</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;United States&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="you-can-index-without-loc-and-iloc-but-please-don-t-except">
<h2>You can index without loc and iloc, but please don’t, except …<a class="headerlink" href="#you-can-index-without-loc-and-iloc-but-please-don-t-except" title="Permalink to this headline">#</a></h2>
<p>In the pages following the <a class="reference internal" href="../data-frames/data_frame_intro.html"><span class="doc std std-doc">data frame
introduction</span></a>, you saw that we can index into
data frame directly, using <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">something</span> <span class="pre">]</span></code> after the data frame value, without
using <code class="docutils literal notranslate"><span class="pre">loc</span></code> or <code class="docutils literal notranslate"><span class="pre">iloc</span></code>.  Call this <em>direct indexing</em>.  This is a very reasonable
thing to do if:</p>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">something</span></code> is a Boolean Series (<a class="reference internal" href="../data-frames/df_basic_row_indexing.html"><span class="doc std std-doc">DIBS</span></a>).
This is not ambiguous.</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">something</span></code> is a column label or list of labels
(<a class="reference internal" href="../data-frames/df_basic_col_indexing.html"><span class="doc std std-doc">DICL</span></a>).  This isn’t ambiguous either.</p></li>
</ul>
<p>Both of these are entirely reasonable uses of direct indexing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Direct indexing with a Boolean Series (DIBS).</span>
<span class="c1"># Select rows where &#39;health_exp_per_cap&#39; is greater than 3000 dollars.</span>
<span class="n">is_big_spender</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="s1">&#39;health_exp_per_cap&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">3000</span>  <span class="c1"># Boolean Series</span>
<span class="n">big_health_spenders</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="n">is_big_spender</span><span class="p">]</span>
<span class="n">big_health_spenders</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>202</th>
      <td>United States</td>
      <td>USA</td>
      <td>1.860875</td>
      <td>17369.124600</td>
      <td>9060.068657</td>
      <td>8.121961</td>
      <td>48.758830</td>
      <td>14.00</td>
      <td>318.558175</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Japan</td>
      <td>JPN</td>
      <td>1.430000</td>
      <td>5106.024760</td>
      <td>3687.126279</td>
      <td>8.496074</td>
      <td>48.744199</td>
      <td>5.75</td>
      <td>127.297102</td>
    </tr>
    <tr>
      <th>49</th>
      <td>Germany</td>
      <td>DEU</td>
      <td>1.450000</td>
      <td>3601.226158</td>
      <td>4909.659884</td>
      <td>8.542615</td>
      <td>48.568695</td>
      <td>6.25</td>
      <td>81.281645</td>
    </tr>
    <tr>
      <th>67</th>
      <td>United Kingdom</td>
      <td>GBR</td>
      <td>1.842500</td>
      <td>2768.864417</td>
      <td>3357.983675</td>
      <td>7.720655</td>
      <td>48.791809</td>
      <td>9.25</td>
      <td>64.641557</td>
    </tr>
    <tr>
      <th>63</th>
      <td>France</td>
      <td>FRA</td>
      <td>2.005000</td>
      <td>2647.649725</td>
      <td>4387.835406</td>
      <td>8.920420</td>
      <td>48.772050</td>
      <td>8.75</td>
      <td>66.302099</td>
    </tr>
    <tr>
      <th>94</th>
      <td>Italy</td>
      <td>ITA</td>
      <td>1.390000</td>
      <td>2005.983980</td>
      <td>3266.984094</td>
      <td>6.984374</td>
      <td>48.407573</td>
      <td>4.00</td>
      <td>60.378795</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Canada</td>
      <td>CAN</td>
      <td>1.600300</td>
      <td>1708.473627</td>
      <td>4616.539134</td>
      <td>7.546247</td>
      <td>48.808926</td>
      <td>7.25</td>
      <td>35.517119</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Australia</td>
      <td>AUS</td>
      <td>1.861500</td>
      <td>1422.994116</td>
      <td>4256.058988</td>
      <td>6.292381</td>
      <td>48.576707</td>
      <td>6.00</td>
      <td>23.444560</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Direct indexing with column labels (DICL).</span>
<span class="c1"># Select the &#39;country_code&#39; column.</span>
<span class="n">country_code</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="s1">&#39;country_code&#39;</span><span class="p">]</span>
<span class="n">country_code</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>202    USA
35     CHN
97     JPN
49     DEU
67     GBR
63     FRA
26     BRA
88     IND
94     ITA
164    RUS
32     CAN
10     AUS
104    KOR
58     ESP
124    MEX
Name: country_code, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Those uses of direct indexing are entirely sensible.  Other uses of direct
indexing are not sensible, and we strongly encourage you not to use them.</p>
<p>For example, Pandas will also allow you to this, with the Series we just made:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Nooooooo !</span>
<span class="n">country_code</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;AUS&#39;
</pre></div>
</div>
</div>
</div>
<p>Please don’t do that.  This is ambiguous.  Did you really mean the country with
label 10?  Or did you mean the country at position 10?   Pandas will guess for
you.  Don’t let it.  If you are not selecting rows / elements with Booleans,
always do this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># By label</span>
<span class="n">country_code</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;AUS&#39;
</pre></div>
</div>
</div>
</div>
<p>or this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># By position</span>
<span class="n">country_code</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;CAN&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="you-can-use-boolean-indexing-with-loc">
<h2>You can use Boolean indexing with <code class="docutils literal notranslate"><span class="pre">.loc</span></code><a class="headerlink" href="#you-can-use-boolean-indexing-with-loc" title="Permalink to this headline">#</a></h2>
<p>It is often convenient to use direct indexing with Booleans, as we have just seen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a Boolean series with True for big spender rows, False otherwise.</span>
<span class="n">is_big_spender</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="s1">&#39;health_exp_per_cap&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">3000</span>
<span class="n">is_big_spender</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>202     True
35     False
97      True
49      True
67      True
63      True
26     False
88     False
94      True
164    False
32      True
10      True
104    False
58     False
124    False
Name: health_exp_per_cap, dtype: bool
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Direct Boolean indexing:</span>
<span class="c1"># Select rows where &#39;health_exp_per_cap&#39; is greater than 3000 dollars.</span>
<span class="n">big_health_spenders</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="n">is_big_spender</span><span class="p">]</span>
<span class="n">big_health_spenders</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>202</th>
      <td>United States</td>
      <td>USA</td>
      <td>1.860875</td>
      <td>17369.124600</td>
      <td>9060.068657</td>
      <td>8.121961</td>
      <td>48.758830</td>
      <td>14.00</td>
      <td>318.558175</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Japan</td>
      <td>JPN</td>
      <td>1.430000</td>
      <td>5106.024760</td>
      <td>3687.126279</td>
      <td>8.496074</td>
      <td>48.744199</td>
      <td>5.75</td>
      <td>127.297102</td>
    </tr>
    <tr>
      <th>49</th>
      <td>Germany</td>
      <td>DEU</td>
      <td>1.450000</td>
      <td>3601.226158</td>
      <td>4909.659884</td>
      <td>8.542615</td>
      <td>48.568695</td>
      <td>6.25</td>
      <td>81.281645</td>
    </tr>
    <tr>
      <th>67</th>
      <td>United Kingdom</td>
      <td>GBR</td>
      <td>1.842500</td>
      <td>2768.864417</td>
      <td>3357.983675</td>
      <td>7.720655</td>
      <td>48.791809</td>
      <td>9.25</td>
      <td>64.641557</td>
    </tr>
    <tr>
      <th>63</th>
      <td>France</td>
      <td>FRA</td>
      <td>2.005000</td>
      <td>2647.649725</td>
      <td>4387.835406</td>
      <td>8.920420</td>
      <td>48.772050</td>
      <td>8.75</td>
      <td>66.302099</td>
    </tr>
    <tr>
      <th>94</th>
      <td>Italy</td>
      <td>ITA</td>
      <td>1.390000</td>
      <td>2005.983980</td>
      <td>3266.984094</td>
      <td>6.984374</td>
      <td>48.407573</td>
      <td>4.00</td>
      <td>60.378795</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Canada</td>
      <td>CAN</td>
      <td>1.600300</td>
      <td>1708.473627</td>
      <td>4616.539134</td>
      <td>7.546247</td>
      <td>48.808926</td>
      <td>7.25</td>
      <td>35.517119</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Australia</td>
      <td>AUS</td>
      <td>1.861500</td>
      <td>1422.994116</td>
      <td>4256.058988</td>
      <td>6.292381</td>
      <td>48.576707</td>
      <td>6.00</td>
      <td>23.444560</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can also use Booleans with <code class="docutils literal notranslate"><span class="pre">loc</span></code> indexing.  This allows us to do things such
as selecting rows with Booleans, and columns with labels, in one shot, like
this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Boolean indexing for rows, with &quot;loc&quot;</span>
<span class="c1"># Get &quot;country_name&quot; column values for big health spenders:</span>
<span class="n">big_spender_names</span> <span class="o">=</span> <span class="n">richest_15</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">is_big_spender</span><span class="p">,</span> <span class="s1">&#39;country_name&#39;</span><span class="p">]</span>
<span class="n">big_spender_names</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>202     United States
97              Japan
49            Germany
67     United Kingdom
63             France
94              Italy
32             Canada
10          Australia
Name: country_name, dtype: object
</pre></div>
</div>
</div>
</div>
<p>In fact you can use some Boolean sequences with <code class="docutils literal notranslate"><span class="pre">iloc</span></code> as well, but that needs
<a class="reference internal" href="../functions-conditionals/booleans_and_labels.html"><span class="doc std std-doc">a little more explanation</span></a>.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "lisds/textbook",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./wild-pandas"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../functions-conditionals/apply_functions.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Apply functions</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="noble_politics.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Noble politics and comparing counts</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Matthew Brett, Ani Adhikari, John Denero, David Wagner<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>